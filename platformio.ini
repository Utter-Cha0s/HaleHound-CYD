; ═══════════════════════════════════════════════════════════════════════════
; HaleHound-CYD PlatformIO Configuration
; ESP32-DIV HaleHound Edition for Cheap Yellow Display
; Created: 2026-02-07
; ═══════════════════════════════════════════════════════════════════════════

[platformio]
src_dir = .

[env:esp32-cyd]
platform = espressif32@6.9.0
board = esp32dev
framework = arduino
monitor_speed = 115200
upload_speed = 460800

; CYD 2.8" uses CH340 USB-Serial
upload_port = /dev/cu.usbserial-*

; Build flags
build_flags =
    -DCORE_DEBUG_LEVEL=1
    -DBOARD_HAS_PSRAM=0
    ; TFT_eSPI uses our custom User_Setup.h in project folder
    -DUSER_SETUP_LOADED
    -include User_Setup.h
    ; Allow override of SDK functions (deauth) and resolve SPI conflicts
    -Wl,--allow-multiple-definition

; Required libraries
lib_deps =
    bodmer/TFT_eSPI@^2.5.43
    bblanchon/ArduinoJson@^7.0.0
    mikalhart/TinyGPSPlus@^1.0.3
    plerup/EspSoftwareSerial@^8.2.0
    sui77/rc-switch@^2.6.4
    kosme/arduinoFFT@^2.0.2
    nrf24/RF24@^1.4.9
    https://github.com/PaulStoffregen/XPT2046_Touchscreen.git
    lsatan/SmartRC-CC1101-Driver-Lib@^2.5.7

; Partition scheme - need more space for this firmware
board_build.partitions = huge_app.csv

; Flash mode
board_build.flash_mode = dio
board_build.f_flash = 80000000L

; Monitor filters
monitor_filters = esp32_exception_decoder
